{"ast":null,"code":"import _slicedToArray from\"E:/foodiespaw/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"E:/foodiespaw/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useReducer}from'react';import{Link,useParams}from'react-router-dom';import{getAll,getAllStatus}from'../../services/orderService';import classes from'./ordersPage.module.css';import Title from'../../components/Title/Title';import DateTime from'../../components/DateTime/DateTime';import Price from'../../components/Price/Price';import NotFound from'../../components/NotFound/NotFound';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={};var reducer=function reducer(state,action){var type=action.type,payload=action.payload;switch(type){case'ALL_STATUS_FETCHED':return _objectSpread(_objectSpread({},state),{},{allStatus:payload});case'ORDERS_FETCHED':return _objectSpread(_objectSpread({},state),{},{orders:payload});default:return state;}};export default function OrdersPage(){var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],allStatus=_useReducer2$.allStatus,orders=_useReducer2$.orders,dispatch=_useReducer2[1];var _useParams=useParams(),filter=_useParams.filter;useEffect(function(){getAllStatus().then(function(status){dispatch({type:'ALL_STATUS_FETCHED',payload:status});});getAll(filter).then(function(orders){dispatch({type:'ORDERS_FETCHED',payload:orders});});},[filter]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(Title,{title:\"Orders\",margin:\"1.5rem 0 0 .2rem\",fontSize:\"1.9rem\"}),allStatus&&/*#__PURE__*/_jsxs(\"div\",{className:classes.all_status,children:[/*#__PURE__*/_jsx(Link,{to:\"/orders\",className:!filter?classes.selected:'',children:\"All\"}),allStatus.map(function(state){return/*#__PURE__*/_jsx(Link,{className:state===filter?classes.selected:'',to:\"/orders/\".concat(state),children:state},state);})]}),(orders===null||orders===void 0?void 0:orders.length)===0&&/*#__PURE__*/_jsx(NotFound,{linkRoute:filter?'/orders':'/',linkText:filter?'Show All':'Go To Home Page'}),orders&&orders.map(function(order){return/*#__PURE__*/_jsxs(\"div\",{className:classes.order_summary,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.header,children:[/*#__PURE__*/_jsx(\"span\",{children:order.id}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(DateTime,{date:order.createdAt})}),/*#__PURE__*/_jsx(\"span\",{children:order.status})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.items,children:order.items.map(function(item){return/*#__PURE__*/_jsx(Link,{to:\"/food/\".concat(item.food.id),children:/*#__PURE__*/_jsx(\"img\",{src:item.food.imageUrl,alt:item.food.name})},item.food.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.footer,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/track/\".concat(order.id),children:\"Show Order\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:classes.price,children:/*#__PURE__*/_jsx(Price,{price:order.totalPrice})})})]})]},order.id);})]});}","map":{"version":3,"names":["React","useEffect","useReducer","Link","useParams","getAll","getAllStatus","classes","Title","DateTime","Price","NotFound","jsx","_jsx","jsxs","_jsxs","initialState","reducer","state","action","type","payload","_objectSpread","allStatus","orders","OrdersPage","_useReducer","_useReducer2","_slicedToArray","_useReducer2$","dispatch","_useParams","filter","then","status","className","container","children","title","margin","fontSize","all_status","to","selected","map","concat","length","linkRoute","linkText","order","order_summary","header","id","date","createdAt","items","item","food","src","imageUrl","alt","name","footer","price","totalPrice"],"sources":["E:/foodiespaw/frontend/src/pages/Orders/OrdersPage.js"],"sourcesContent":["import React, { useEffect, useReducer } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { getAll, getAllStatus } from '../../services/orderService';\r\nimport classes from './ordersPage.module.css';\r\nimport Title from '../../components/Title/Title';\r\nimport DateTime from '../../components/DateTime/DateTime';\r\nimport Price from '../../components/Price/Price';\r\nimport NotFound from '../../components/NotFound/NotFound';\r\n\r\nconst initialState = {};\r\nconst reducer = (state, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case 'ALL_STATUS_FETCHED':\r\n      return { ...state, allStatus: payload };\r\n    case 'ORDERS_FETCHED':\r\n      return { ...state, orders: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function OrdersPage() {\r\n  const [{ allStatus, orders }, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const { filter } = useParams();\r\n\r\n  useEffect(() => {\r\n    getAllStatus().then(status => {\r\n      dispatch({ type: 'ALL_STATUS_FETCHED', payload: status });\r\n    });\r\n    getAll(filter).then(orders => {\r\n      dispatch({ type: 'ORDERS_FETCHED', payload: orders });\r\n    });\r\n  }, [filter]);\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <Title title=\"Orders\" margin=\"1.5rem 0 0 .2rem\" fontSize=\"1.9rem\" />\r\n\r\n      {allStatus && (\r\n        <div className={classes.all_status}>\r\n          <Link to=\"/orders\" className={!filter ? classes.selected : ''}>\r\n            All\r\n          </Link>\r\n          {allStatus.map(state => (\r\n            <Link\r\n              key={state}\r\n              className={state === filter ? classes.selected : ''}\r\n              to={`/orders/${state}`}\r\n            >\r\n              {state}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {orders?.length === 0 && (\r\n        <NotFound\r\n          linkRoute={filter ? '/orders' : '/'}\r\n          linkText={filter ? 'Show All' : 'Go To Home Page'}\r\n        />\r\n      )}\r\n\r\n      {orders &&\r\n        orders.map(order => (\r\n          <div key={order.id} className={classes.order_summary}>\r\n            <div className={classes.header}>\r\n              <span>{order.id}</span>\r\n              <span>\r\n                <DateTime date={order.createdAt} />\r\n              </span>\r\n              <span>{order.status}</span>\r\n            </div>\r\n            <div className={classes.items}>\r\n              {order.items.map(item => (\r\n                <Link key={item.food.id} to={`/food/${item.food.id}`}>\r\n                  <img src={item.food.imageUrl} alt={item.food.name} />\r\n                </Link>\r\n              ))}\r\n            </div>\r\n            <div className={classes.footer}>\r\n              <div>\r\n                <Link to={`/track/${order.id}`}>Show Order</Link>\r\n              </div>\r\n              <div>\r\n                <span className={classes.price}>\r\n                  <Price price={order.totalPrice} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}