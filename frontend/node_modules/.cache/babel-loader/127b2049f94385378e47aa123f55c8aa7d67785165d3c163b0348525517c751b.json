{"ast":null,"code":"import _objectSpread from\"E:/foodiespaw/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useCart}from'../../hooks/useCart';import{useAuth}from'../../hooks/useAuth';import{useNavigate}from'react-router-dom';import{useState}from'react';import{useForm}from'react-hook-form';import{toast}from'react-toastify';import{createOrder}from'../../services/orderService';import classes from'./checkoutPage.module.css';import Title from'../../components/Title/Title';import Input from'../../components/Input/Input';import Button from'../../components/Button/Button';import OrderItemsList from'../../components/OrderItemsList/OrderItemsList';import Map from'../../components/Map/Map';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function CheckoutPage(){const{cart}=useCart();const{user}=useAuth();const navigate=useNavigate();const[order,setOrder]=useState(_objectSpread({},cart));const{register,formState:{errors},handleSubmit}=useForm();const submit=async data=>{if(!order.addressLatLng){toast.warning('Please select your location on the map');return;}await createOrder(_objectSpread(_objectSpread({},order),{},{name:data.name,address:data.address}));navigate('/payment');};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(submit),className:classes.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.content,children:[/*#__PURE__*/_jsx(Title,{title:\"Order Form\",fontSize:\"1.6rem\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.inputs,children:[/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({defaultValue:user.name,label:\"Name\"},register('name')),{},{error:errors.name})),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({defaultValue:user.address,label:\"Address\"},register('address')),{},{error:errors.address}))]}),/*#__PURE__*/_jsx(OrderItemsList,{order:order})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{title:\"Choose Your Location\",fontSize:\"1.6rem\"}),/*#__PURE__*/_jsx(Map,{location:order.addressLatLng,onChange:latlng=>{console.log(latlng);setOrder(_objectSpread(_objectSpread({},order),{},{addressLatLng:latlng}));}})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.buttons_container,children:/*#__PURE__*/_jsx(\"div\",{className:classes.buttons,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",text:\"Go To Payment\",width:\"100%\",height:\"3rem\"})})})]})});}","map":{"version":3,"names":["React","useCart","useAuth","useNavigate","useState","useForm","toast","createOrder","classes","Title","Input","Button","OrderItemsList","Map","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CheckoutPage","cart","user","navigate","order","setOrder","_objectSpread","register","formState","errors","handleSubmit","submit","data","addressLatLng","warning","name","address","children","onSubmit","className","container","content","title","fontSize","inputs","defaultValue","label","error","location","onChange","latlng","console","log","buttons_container","buttons","type","text","width","height"],"sources":["E:/foodiespaw/frontend/src/pages/Checkout/CheckoutPage.js"],"sourcesContent":["import React from 'react';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { toast } from 'react-toastify';\r\nimport { createOrder } from '../../services/orderService';\r\nimport classes from './checkoutPage.module.css';\r\nimport Title from '../../components/Title/Title';\r\nimport Input from '../../components/Input/Input';\r\nimport Button from '../../components/Button/Button';\r\nimport OrderItemsList from '../../components/OrderItemsList/OrderItemsList';\r\nimport Map from '../../components/Map/Map';\r\nexport default function CheckoutPage() {\r\n  const { cart } = useCart();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [order, setOrder] = useState({ ...cart });\r\n\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit,\r\n  } = useForm();\r\n\r\n  const submit = async data => {\r\n    if (!order.addressLatLng) {\r\n      toast.warning('Please select your location on the map');\r\n      return;\r\n    }\r\n\r\n    await createOrder({ ...order, name: data.name, address: data.address });\r\n    navigate('/payment');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit(submit)} className={classes.container}>\r\n        <div className={classes.content}>\r\n          <Title title=\"Order Form\" fontSize=\"1.6rem\" />\r\n          <div className={classes.inputs}>\r\n            <Input\r\n              defaultValue={user.name}\r\n              label=\"Name\"\r\n              {...register('name')}\r\n              error={errors.name}\r\n            />\r\n            <Input\r\n              defaultValue={user.address}\r\n              label=\"Address\"\r\n              {...register('address')}\r\n              error={errors.address}\r\n            />\r\n          </div>\r\n          <OrderItemsList order={order} />\r\n        </div>\r\n        <div>\r\n          <Title title=\"Choose Your Location\" fontSize=\"1.6rem\" />\r\n          <Map\r\n            location={order.addressLatLng}\r\n            onChange={latlng => {\r\n              console.log(latlng);\r\n              setOrder({ ...order, addressLatLng: latlng });\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className={classes.buttons_container}>\r\n          <div className={classes.buttons}>\r\n            <Button\r\n              type=\"submit\"\r\n              text=\"Go To Payment\"\r\n              width=\"100%\"\r\n              height=\"3rem\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}