{"ast":null,"code":"import React from'react';import{useCart}from'../../hooks/useCart';import{useAuth}from'../../hooks/useAuth';import{useNavigate}from'react-router-dom';import{useState}from'react';import{useForm}from'react-hook-form';import{toast}from'react-toastify';import{createOrder}from'../../services/orderService';import classes from'./checkoutPage.module.css';import Title from'../../components/Title/Title';import Input from'../../components/Input/Input';import Button from'../../components/Button/Button';import OrderItemsList from'../../components/OrderItemsList/OrderItemsList';import Map from'../../components/Map/Map';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function CheckoutPage(){const{cart}=useCart();const{user}=useAuth();const navigate=useNavigate();const[order,setOrder]=useState({...cart});const{register,formState:{errors},handleSubmit}=useForm();const submit=async data=>{if(!order.addressLatLng){toast.warning('Please select your location on the map');return;}await createOrder({...order,name:data.name,address:data.address});navigate('/payment');};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(submit),className:classes.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.content,children:[/*#__PURE__*/_jsx(Title,{title:\"Order Form\",fontSize:\"1.6rem\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.inputs,children:[/*#__PURE__*/_jsx(Input,{defaultValue:user.name,label:\"Name\",...register('name'),error:errors.name}),/*#__PURE__*/_jsx(Input,{defaultValue:user.address,label:\"Address\",...register('address'),error:errors.address})]}),/*#__PURE__*/_jsx(OrderItemsList,{order:order})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{title:\"Choose Your Location\",fontSize:\"1.6rem\"}),/*#__PURE__*/_jsx(Map,{location:order.addressLatLng,onChange:latlng=>{console.log(latlng);setOrder({...order,addressLatLng:latlng});}})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.buttons_container,children:/*#__PURE__*/_jsx(\"div\",{className:classes.buttons,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",text:\"Go To Payment\",width:\"100%\",height:\"3rem\"})})})]})});}","map":{"version":3,"names":["React","useCart","useAuth","useNavigate","useState","useForm","toast","createOrder","classes","Title","Input","Button","OrderItemsList","Map","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CheckoutPage","cart","user","navigate","order","setOrder","register","formState","errors","handleSubmit","submit","data","addressLatLng","warning","name","address","children","onSubmit","className","container","content","title","fontSize","inputs","defaultValue","label","error","location","onChange","latlng","console","log","buttons_container","buttons","type","text","width","height"],"sources":["E:/Earth-surface-food/frontend/src/pages/Checkout/CheckoutPage.js"],"sourcesContent":["import React from 'react';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { toast } from 'react-toastify';\r\nimport { createOrder } from '../../services/orderService';\r\nimport classes from './checkoutPage.module.css';\r\nimport Title from '../../components/Title/Title';\r\nimport Input from '../../components/Input/Input';\r\nimport Button from '../../components/Button/Button';\r\nimport OrderItemsList from '../../components/OrderItemsList/OrderItemsList';\r\nimport Map from '../../components/Map/Map';\r\nexport default function CheckoutPage() {\r\n  const { cart } = useCart();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [order, setOrder] = useState({ ...cart });\r\n\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit,\r\n  } = useForm();\r\n\r\n  const submit = async data => {\r\n    if (!order.addressLatLng) {\r\n      toast.warning('Please select your location on the map');\r\n      return;\r\n    }\r\n\r\n    await createOrder({ ...order, name: data.name, address: data.address });\r\n    navigate('/payment');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit(submit)} className={classes.container}>\r\n        <div className={classes.content}>\r\n          <Title title=\"Order Form\" fontSize=\"1.6rem\" />\r\n          <div className={classes.inputs}>\r\n            <Input\r\n              defaultValue={user.name}\r\n              label=\"Name\"\r\n              {...register('name')}\r\n              error={errors.name}\r\n            />\r\n            <Input\r\n              defaultValue={user.address}\r\n              label=\"Address\"\r\n              {...register('address')}\r\n              error={errors.address}\r\n            />\r\n          </div>\r\n          <OrderItemsList order={order} />\r\n        </div>\r\n        <div>\r\n          <Title title=\"Choose Your Location\" fontSize=\"1.6rem\" />\r\n          <Map\r\n            location={order.addressLatLng}\r\n            onChange={latlng => {\r\n              console.log(latlng);\r\n              setOrder({ ...order, addressLatLng: latlng });\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className={classes.buttons_container}>\r\n          <div className={classes.buttons}>\r\n            <Button\r\n              type=\"submit\"\r\n              text=\"Go To Payment\"\r\n              width=\"100%\"\r\n              height=\"3rem\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}