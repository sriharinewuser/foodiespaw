{"ast":null,"code":"import _objectSpread from\"E:/foodiespaw/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useReducer}from'react';import{Link,useParams}from'react-router-dom';import{getAll,getAllStatus}from'../../services/orderService';import classes from'./ordersPage.module.css';import Title from'../../components/Title/Title';import DateTime from'../../components/DateTime/DateTime';import Price from'../../components/Price/Price';import NotFound from'../../components/NotFound/NotFound';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initialState={};const reducer=(state,action)=>{const{type,payload}=action;switch(type){case'ALL_STATUS_FETCHED':return _objectSpread(_objectSpread({},state),{},{allStatus:payload});case'ORDERS_FETCHED':return _objectSpread(_objectSpread({},state),{},{orders:payload});default:return state;}};export default function OrdersPage(){const[{allStatus,orders},dispatch]=useReducer(reducer,initialState);const{filter}=useParams();useEffect(()=>{getAllStatus().then(status=>{dispatch({type:'ALL_STATUS_FETCHED',payload:status});});getAll(filter).then(orders=>{dispatch({type:'ORDERS_FETCHED',payload:orders});});},[filter]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(Title,{title:\"Orders\",margin:\"1.5rem 0 0 .2rem\",fontSize:\"1.9rem\"}),allStatus&&/*#__PURE__*/_jsxs(\"div\",{className:classes.all_status,children:[/*#__PURE__*/_jsx(Link,{to:\"/orders\",className:!filter?classes.selected:'',children:\"All\"}),allStatus.map(state=>/*#__PURE__*/_jsx(Link,{className:state===filter?classes.selected:'',to:\"/orders/\".concat(state),children:state},state))]}),(orders===null||orders===void 0?void 0:orders.length)===0&&/*#__PURE__*/_jsx(NotFound,{linkRoute:filter?'/orders':'/',linkText:filter?'Show All':'Go To Home Page'}),orders&&orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:classes.order_summary,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.header,children:[/*#__PURE__*/_jsx(\"span\",{children:order.id}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(DateTime,{date:order.createdAt})}),/*#__PURE__*/_jsx(\"span\",{children:order.status})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.items,children:order.items.map(item=>/*#__PURE__*/_jsx(Link,{to:\"/food/\".concat(item.food.id),children:/*#__PURE__*/_jsx(\"img\",{src:item.food.imageUrl,alt:item.food.name})},item.food.id))}),/*#__PURE__*/_jsxs(\"div\",{className:classes.footer,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/track/\".concat(order.id),children:\"Show Order\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:classes.price,children:/*#__PURE__*/_jsx(Price,{price:order.totalPrice})})})]})]},order.id))]});}","map":{"version":3,"names":["React","useEffect","useReducer","Link","useParams","getAll","getAllStatus","classes","Title","DateTime","Price","NotFound","jsx","_jsx","jsxs","_jsxs","initialState","reducer","state","action","type","payload","_objectSpread","allStatus","orders","OrdersPage","dispatch","filter","then","status","className","container","children","title","margin","fontSize","all_status","to","selected","map","concat","length","linkRoute","linkText","order","order_summary","header","id","date","createdAt","items","item","food","src","imageUrl","alt","name","footer","price","totalPrice"],"sources":["E:/foodiespaw/frontend/src/pages/Orders/OrdersPage.js"],"sourcesContent":["import React, { useEffect, useReducer } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { getAll, getAllStatus } from '../../services/orderService';\r\nimport classes from './ordersPage.module.css';\r\nimport Title from '../../components/Title/Title';\r\nimport DateTime from '../../components/DateTime/DateTime';\r\nimport Price from '../../components/Price/Price';\r\nimport NotFound from '../../components/NotFound/NotFound';\r\n\r\nconst initialState = {};\r\nconst reducer = (state, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case 'ALL_STATUS_FETCHED':\r\n      return { ...state, allStatus: payload };\r\n    case 'ORDERS_FETCHED':\r\n      return { ...state, orders: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function OrdersPage() {\r\n  const [{ allStatus, orders }, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const { filter } = useParams();\r\n\r\n  useEffect(() => {\r\n    getAllStatus().then(status => {\r\n      dispatch({ type: 'ALL_STATUS_FETCHED', payload: status });\r\n    });\r\n    getAll(filter).then(orders => {\r\n      dispatch({ type: 'ORDERS_FETCHED', payload: orders });\r\n    });\r\n  }, [filter]);\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <Title title=\"Orders\" margin=\"1.5rem 0 0 .2rem\" fontSize=\"1.9rem\" />\r\n\r\n      {allStatus && (\r\n        <div className={classes.all_status}>\r\n          <Link to=\"/orders\" className={!filter ? classes.selected : ''}>\r\n            All\r\n          </Link>\r\n          {allStatus.map(state => (\r\n            <Link\r\n              key={state}\r\n              className={state === filter ? classes.selected : ''}\r\n              to={`/orders/${state}`}\r\n            >\r\n              {state}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {orders?.length === 0 && (\r\n        <NotFound\r\n          linkRoute={filter ? '/orders' : '/'}\r\n          linkText={filter ? 'Show All' : 'Go To Home Page'}\r\n        />\r\n      )}\r\n\r\n      {orders &&\r\n        orders.map(order => (\r\n          <div key={order.id} className={classes.order_summary}>\r\n            <div className={classes.header}>\r\n              <span>{order.id}</span>\r\n              <span>\r\n                <DateTime date={order.createdAt} />\r\n              </span>\r\n              <span>{order.status}</span>\r\n            </div>\r\n            <div className={classes.items}>\r\n              {order.items.map(item => (\r\n                <Link key={item.food.id} to={`/food/${item.food.id}`}>\r\n                  <img src={item.food.imageUrl} alt={item.food.name} />\r\n                </Link>\r\n              ))}\r\n            </div>\r\n            <div className={classes.footer}>\r\n              <div>\r\n                <Link to={`/track/${order.id}`}>Show Order</Link>\r\n              </div>\r\n              <div>\r\n                <span className={classes.price}>\r\n                  <Price price={order.totalPrice} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}